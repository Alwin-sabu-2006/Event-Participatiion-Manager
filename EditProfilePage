import javax.swing.*;
import java.awt.*;
import javax.swing.border.EmptyBorder;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class EditProfilePage {

    public static void createAndShowGUI() {
        try {
            for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (Exception e) {}

        final JFrame editFrame = new JFrame("Edit Profile");
        editFrame.setSize(450, 450);
        editFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel mainPanel = new JPanel();
        mainPanel.setLayout(new GridLayout(7, 2, 10, 10));
        mainPanel.setBorder(new EmptyBorder(20, 20, 20, 20));

        JLabel nameLabel = new JLabel("Name:");
        final JTextField nameField = new JTextField();
        JLabel emailLabel = new JLabel("Email:");
        final JTextField emailField = new JTextField();
        JLabel genderLabel = new JLabel("Gender:");
        final JRadioButton maleButton = new JRadioButton("Male");
        final JRadioButton femaleButton = new JRadioButton("Female");
        final ButtonGroup genderGroup = new ButtonGroup();
        genderGroup.add(maleButton);
        genderGroup.add(femaleButton);
        JPanel genderPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));
        genderPanel.add(maleButton);
        genderPanel.add(femaleButton);
        JLabel regNoLabel = new JLabel("Registration Number:");
        final JTextField regNoField = new JTextField();
        JLabel phoneLabel = new JLabel("Phone Number:");
        final JTextField phoneField = new JTextField();
        JLabel deptLabel = new JLabel("Department:");
        final JTextField deptField = new JTextField();
        JButton saveButton = new JButton("Save Changes");
        JButton backButton = new JButton("Back");
        JPanel savePanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));
        savePanel.add(saveButton);
        JPanel backPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));
        backPanel.add(backButton);

        nameField.setText("Sample Student");
        emailField.setText("student@example.com");
        maleButton.setSelected(true);
        regNoField.setText("S12345");
        phoneField.setText("9876543210");
        deptField.setText("Computer Science");

        saveButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                String newName = nameField.getText();
                String newEmail = emailField.getText();
                String newRegNo = regNoField.getText();
                String newPhone = phoneField.getText();
                String newDept = deptField.getText();
                String newGender = maleButton.isSelected() ? "Male" : (femaleButton.isSelected() ? "Female" : null);

                if (newName.isEmpty() || newEmail.isEmpty() || newRegNo.isEmpty() || newPhone.isEmpty() || newDept.isEmpty() || newGender == null) {
                    JOptionPane.showMessageDialog(editFrame, "Please fill in all fields.", "Error", JOptionPane.ERROR_MESSAGE);
                    return;
                }

                System.out.println("--- Save Profile Button Clicked ---");
                System.out.println("Name: " + newName);
                System.out.println("Email: " + newEmail);
                System.out.println("RegNo: " + newRegNo);
                System.out.println("Phone: " + newPhone);
                System.out.println("Dept: " + newDept);
                System.out.println("Gender: " + newGender);
                JOptionPane.showMessageDialog(editFrame, "Profile details printed to console (database connection removed).", "Action Performed", JOptionPane.INFORMATION_MESSAGE);

            }
        });

        backButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                 System.out.println("Edit Profile Back button clicked - (Navigation Removed)");
            }
        });

        mainPanel.add(nameLabel);
        mainPanel.add(nameField);
        mainPanel.add(emailLabel);
        mainPanel.add(emailField);
        mainPanel.add(genderLabel);
        mainPanel.add(genderPanel);
        mainPanel.add(regNoLabel);
        mainPanel.add(regNoField);
        mainPanel.add(phoneLabel);
        mainPanel.add(phoneField);
        mainPanel.add(deptLabel);
        mainPanel.add(deptField);
        mainPanel.add(backPanel);
        mainPanel.add(savePanel);

        editFrame.add(mainPanel);
        editFrame.setLocationRelativeTo(null);
        editFrame.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> createAndShowGUI());
    }
}
